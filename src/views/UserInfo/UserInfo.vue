<template>
  <div class="userinfo text-center">
    <header-top title="账号信息" class="header">
      <span slot="left" @click="$router.back()">
        <svg
          t="1605356657443"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="1749"
          width="16"
          height="16"
        >
          <path
            d="M766.862 1021.724c-10.24 0-20.594-3.64-28.444-10.922L228.693 538.396c-15.701-14.563-15.701-38.229 0-52.792L738.418 13.198c15.701-14.563 41.187-14.563 56.889 0 15.701 14.564 15.701 38.23 0 52.793L314.027 512l481.28 446.009c15.701 14.563 15.701 38.23 0 52.793-7.851 7.282-18.205 10.922-28.445 10.922z"
            p-id="1750"
            fill="#ffffff"
          ></path>
        </svg>
      </span>
    </header-top>

    <section>
      <section
        class="d-flex px-2 py-1 mt-1 jc-between ai-center bg-white border-t"
      >
        <p class="fs-xl text-grey-2">头像</p>
        <span class="d-flex ai-center">
          <img
            :src="`https://elm.cangdu.org/img/${userInfo.avatar}`"
            alt=""
            class="avatar mr-1"
          />
          <span>
            <svg
              t="1605357560909"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="2178"
              width="16"
              height="16"
            >
              <path
                d="M257.024 2.048c10.24 0 20.47999999 3.584 28.672 10.752l509.952 472.576c15.87200001 14.336 15.872 38.4 0 52.736l-509.952 472.57600001c-15.87200001 14.336-40.96 14.336-56.832-1e-8-15.87200001-14.336-15.872-38.4 0-52.736l481.28-445.952-481.28-445.952c-15.87200001-14.336-15.872-38.4 0-52.736 7.68-7.168 17.92-11.264 28.16-11.264z"
                p-id="2179"
                fill="#d8d8d8"
              ></path>
            </svg>
          </span>
        </span>
      </section>

      <router-link
        to="/setusername"
        tag="a"
        class="d-flex px-2 jc-between ai-center bg-white border-t"
      >
        <p class="fs-xl text-grey-2">用户名</p>
        <span class="d-flex ai-center">
          <p class="mr-1 fs-xl text-grey">{{ userInfo.username }}</p>
          <span>
            <svg
              t="1605357560909"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="2178"
              width="16"
              height="16"
            >
              <path
                d="M257.024 2.048c10.24 0 20.47999999 3.584 28.672 10.752l509.952 472.576c15.87200001 14.336 15.872 38.4 0 52.736l-509.952 472.57600001c-15.87200001 14.336-40.96 14.336-56.832-1e-8-15.87200001-14.336-15.872-38.4 0-52.736l481.28-445.952-481.28-445.952c-15.87200001-14.336-15.872-38.4 0-52.736 7.68-7.168 17.92-11.264 28.16-11.264z"
                p-id="2179"
                fill="#d8d8d8"
              ></path>
            </svg>
          </span>
        </span>
      </router-link>

      <router-link
        to="/address"
        tag="a"
        class="d-flex px-2 jc-between ai-center bg-white border-t"
      >
        <p class="fs-xl text-grey-2">收货地址</p>

        <span>
          <svg
            t="1605357560909"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="2178"
            width="16"
            height="16"
          >
            <path
              d="M257.024 2.048c10.24 0 20.47999999 3.584 28.672 10.752l509.952 472.576c15.87200001 14.336 15.872 38.4 0 52.736l-509.952 472.57600001c-15.87200001 14.336-40.96 14.336-56.832-1e-8-15.87200001-14.336-15.872-38.4 0-52.736l481.28-445.952-481.28-445.952c-15.87200001-14.336-15.872-38.4 0-52.736 7.68-7.168 17.92-11.264 28.16-11.264z"
              p-id="2179"
              fill="#d8d8d8"
            ></path>
          </svg>
        </span>
      </router-link>
    </section>

    <section>
      <h6 class="d-flex px-1">账号绑定</h6>
      <router-link
        to="/address"
        tag="a"
        class="d-flex px-2 jc-between ai-center bg-white border-t"
      >
        <div class="d-flex ai-center">
          <span class="mr-1">
            <svg
              t="1605358847758"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="3747"
              width="16"
              height="16"
            >
              <path
                d="M329.728 75.264h364.032c100.352 0 182.272 81.408 182.272 182.272v509.952c0 100.352-81.408 182.272-182.272 182.272H329.728c-100.352 0-182.272-81.408-182.272-182.272V257.024c0.512-100.352 81.92-181.76 182.272-181.76z"
                fill="#37AFFA"
                p-id="3748"
              ></path>
              <path
                d="M172.032 166.912c38.4-37.376 83.456-67.584 132.608-90.112-56.832 7.68-105.472 41.984-132.608 90.112z m-20.992 634.368c15.872 83.968 90.112 147.456 178.688 147.456h107.008c-112.64-12.8-212.992-67.072-285.696-147.456z m392.704 147.456h150.016c100.352 0 182.272-81.408 182.272-182.272v-26.624c-72.192 113.664-192.512 192.512-332.288 208.896z m332.288-699.904c-4.096-96.768-83.968-173.568-181.76-173.568h-22.016c83.968 36.352 154.624 97.28 203.776 173.568z"
                fill="#A2EBFC"
                p-id="3749"
              ></path>
              <path
                d="M876.032 740.352V257.024v-8.192c-48.64-76.288-119.808-137.216-203.776-173.568H329.728c-8.704 0-16.896 0.512-25.088 1.536-49.664 22.016-94.72 52.736-132.608 90.112-13.824 23.552-22.016 50.688-23.552 79.36 71.68-101.376 189.44-167.424 322.56-167.424 217.6 0 394.752 176.64 394.752 394.752s-176.64 394.752-394.752 394.752c-133.632 0-251.392-66.56-323.072-167.936v67.072c0 11.776 1.024 23.552 3.072 34.304 72.192 79.872 172.544 134.144 285.696 147.456h107.008c139.776-16.896 260.096-95.744 332.288-208.896z"
                fill="#A2EBFC"
                p-id="3750"
              ></path>
              <path
                d="M471.04 867.84c218.112 0 394.752-176.64 394.752-394.752s-177.152-394.24-394.752-394.24c-133.12 0-251.392 66.048-322.56 167.424 0 3.584-0.512 7.168-0.512 10.752V317.44C199.68 200.704 315.904 119.808 451.584 119.808c183.296 0 331.776 148.48 331.776 331.776S634.88 783.36 451.584 783.36c-135.168 0-251.904-80.896-303.616-197.632v113.664c71.168 101.888 189.44 168.448 323.072 168.448z"
                fill="#AAEEF9"
                p-id="3751"
              ></path>
              <path
                d="M451.584 783.872c183.296 0 331.776-148.48 331.776-331.776s-148.48-331.776-331.776-331.776c-135.168 0-251.904 80.896-303.616 197.632v269.312c51.712 115.2 167.936 196.608 303.616 196.608zM432.128 161.28c148.48 0 269.312 120.32 269.312 269.312s-120.32 269.312-269.312 269.312S162.816 579.072 162.816 430.08s120.32-268.8 269.312-268.8z"
                fill="#BBF3F9"
                p-id="3752"
              ></path>
              <path
                d="M432.128 699.392c148.48 0 269.312-120.32 269.312-269.312s-120.32-269.312-269.312-269.312S162.816 281.6 162.816 430.08s120.32 269.312 269.312 269.312z m-19.456-497.152c114.176 0 206.848 92.672 206.848 206.848s-92.672 206.848-206.848 206.848-206.848-92.672-206.848-206.848 92.672-206.848 206.848-206.848z"
                fill="#CBF5F7"
                p-id="3753"
              ></path>
              <path
                d="M412.672 615.424c114.176 0 206.848-92.672 206.848-206.848s-92.672-206.848-206.848-206.848-206.848 93.184-206.848 207.36 92.672 206.336 206.848 206.336z m-19.456-372.224c79.36 0 143.872 64.512 143.872 143.872s-64.512 143.872-143.872 143.872-144.384-64-144.384-143.872 64.512-143.872 144.384-143.872z"
                fill="#DAF7F7"
                p-id="3754"
              ></path>
              <path
                d="M248.832 387.072c0 79.36 64.512 143.872 143.872 143.872 79.36 0 143.872-64.512 143.872-143.872 0-79.36-64.512-143.872-143.872-143.872-79.36 0-143.872 64.512-143.872 143.872z"
                fill="#EDFCFC"
                p-id="3755"
              ></path>
              <path
                d="M694.272 93.696c43.52 0 84.48 16.896 115.2 47.616s47.616 71.68 47.616 115.2v509.952c0 43.52-16.896 84.48-47.616 115.2s-71.68 47.616-115.2 47.616H329.728c-43.52 0-84.48-16.896-115.2-47.616s-47.616-71.68-47.616-115.2V257.024c0-43.52 16.896-84.48 47.616-115.2s71.68-47.616 115.2-47.616l364.544-0.512m0-18.432H329.728c-100.352 0-182.272 81.408-182.272 182.272v509.952c0 100.352 81.408 182.272 182.272 182.272h364.032c100.352 0 182.272-81.408 182.272-182.272V257.024c0-100.352-81.408-181.76-181.76-181.76z"
                fill="#20D0FC"
                p-id="3756"
              ></path>
              <path
                d="M675.84 215.04H348.16c-30.208 0-54.784 24.576-54.784 54.784v309.248c0 30.208 24.576 54.784 54.784 54.784h327.68c30.208 0 54.784-24.576 54.784-54.784V269.824c0-30.208-24.576-54.784-54.784-54.784z m-163.84 473.6c-39.936 0-72.704 32.768-72.704 72.704 0 39.936 32.768 72.704 72.704 72.704s72.704-32.768 72.704-72.704-32.256-72.704-72.704-72.704zM231.936 391.68c-10.24 0-18.944-8.704-18.944-18.944V243.2c0-10.24 8.704-18.944 18.944-18.944s18.944 8.704 18.944 18.944v130.048c0 10.24-8.704 18.432-18.944 18.432z m0 73.216c-10.24 0-18.944-8.704-18.944-18.944V435.2c0-10.24 8.704-18.944 18.944-18.944S250.88 424.96 250.88 435.2v10.752c0 10.24-8.704 18.944-18.944 18.944z"
                fill="#FFFFFF"
                p-id="3757"
              ></path>
            </svg>
          </span>
          <p class="fs-xl text-grey-2">手机</p>
        </div>

        <span>
          <svg
            t="1605357560909"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="2178"
            width="16"
            height="16"
          >
            <path
              d="M257.024 2.048c10.24 0 20.47999999 3.584 28.672 10.752l509.952 472.576c15.87200001 14.336 15.872 38.4 0 52.736l-509.952 472.57600001c-15.87200001 14.336-40.96 14.336-56.832-1e-8-15.87200001-14.336-15.872-38.4 0-52.736l481.28-445.952-481.28-445.952c-15.87200001-14.336-15.872-38.4 0-52.736 7.68-7.168 17.92-11.264 28.16-11.264z"
              p-id="2179"
              fill="#d8d8d8"
            ></path>
          </svg>
        </span>
      </router-link>
    </section>

    <section>
      <h6 class="d-flex px-1">安全设置</h6>
      <router-link
        to="/forget"
        tag="a"
        class="d-flex px-2 jc-between ai-center bg-white border-t"
      >
        <p class="fs-xl text-grey-2">登录密码</p>

        <span class="d-flex ai-center">
          <span class="mr-1 text-grey-1 fs-xxl">修改</span>
          <svg
            t="1605357560909"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="2178"
            width="16"
            height="16"
          >
            <path
              d="M257.024 2.048c10.24 0 20.47999999 3.584 28.672 10.752l509.952 472.576c15.87200001 14.336 15.872 38.4 0 52.736l-509.952 472.57600001c-15.87200001 14.336-40.96 14.336-56.832-1e-8-15.87200001-14.336-15.872-38.4 0-52.736l481.28-445.952-481.28-445.952c-15.87200001-14.336-15.872-38.4 0-52.736 7.68-7.168 17.92-11.264 28.16-11.264z"
              p-id="2179"
              fill="#d8d8d8"
            ></path>
          </svg>
        </span>
      </router-link>
    </section>

    <van-button class="mt-3" type="danger logout-btn" @click="logout"
      >退出登录</van-button
    >
  </div>
</template>

<script>
import HeaderTop from "../../components/HeaderTop/index";
import { mapState } from "vuex";
export default {
  name: "UserInfo",
  components: {
    HeaderTop,
  },
  computed: {
    ...mapState(["userInfo"]),
  },

  methods: {
    logout() {
      this.$dialog
        .confirm({
          title: "退出账号",
          message: "是否退出账号",
        })
        .then(() => {
          // on confirm
          this.$store.dispatch("logout");
          this.$toast.success("退出成功");
          this.$router.back();
        })
        .catch(() => {
          // on cancel
          console.log("取消");
        });
    },
  },
};
</script>

<style lang="scss" scoprd>
.header {
  position: fixed;
  top: 0;
  left: 0;
}
.avatar {
  width: 1.333333rem;
  border-radius: 50%;
}
.logout-btn {
  width: 95%;
  border-radius: 0.133333rem;
}
</style>